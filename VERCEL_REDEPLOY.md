# Как сделать редеплой на Vercel

## Способ 1: Через Vercel Dashboard (самый простой)

1. Откройте [Vercel Dashboard](https://vercel.com/dashboard)
2. Выберите ваш проект
3. Перейдите на вкладку **"Deployments"**
4. Найдите последний деплой в списке
5. Нажмите на **три точки (⋮)** справа от деплоя
6. Выберите **"Redeploy"**
7. Подтвердите действие

**Важно:** При редеплое через Dashboard используются те же настройки и переменные окружения, что и в последнем деплое.

---

## Способ 2: Через Git Push (автоматический)

Vercel автоматически делает деплой при каждом push в подключенную ветку:

```bash
# Сделайте любые изменения (или пустой коммит)
git commit --allow-empty -m "Trigger redeploy"
git push origin main  # или ваша ветка (main/master)
```

Vercel автоматически обнаружит изменения и запустит новый деплой.

---

## Способ 3: Через Vercel CLI

Если у вас установлен Vercel CLI:

```bash
# Установка CLI (если еще не установлен)
npm i -g vercel

# Войдите в аккаунт
vercel login

# Перейдите в корень проекта
cd /path/to/your/project

# Запустите деплой
vercel --prod
```

---

## Когда нужен редеплой?

Редеплой нужен в следующих случаях:

1. ✅ **После изменения переменных окружения** (Settings → Environment Variables)
   - После добавления/изменения `NUXT_PUBLIC_API_BASE`
   - После изменения любых других переменных окружения

2. ✅ **После изменения кода** (если не настроен автоматический деплой через Git)

3. ✅ **После изменения настроек проекта** (Build Settings, Framework Settings и т.д.)

4. ✅ **Если что-то сломалось** и нужно пересобрать проект

---

## Проверка после редеплоя

После редеплоя проверьте:

1. **Статус деплоя:**
   - В Dashboard → Deployments должен появиться новый деплой
   - Статус должен быть "Ready" (зеленый)

2. **Работа приложения:**
   - Откройте ваш сайт
   - Проверьте, что все работает
   - Проверьте регистрацию и логин

3. **Переменные окружения:**
   - Убедитесь, что переменные окружения применены
   - Проверьте в Network tab, что запросы идут на правильный API URL

---

## Частые проблемы при редеплое

### Деплой падает с ошибкой
- Проверьте логи в Dashboard → Deployments → выберите деплой → View Build Logs
- Убедитесь, что `npm run build` проходит локально
- Проверьте, что все зависимости установлены

### Переменные окружения не применяются
- Убедитесь, что переменные добавлены в Settings → Environment Variables
- Проверьте, что переменные добавлены для нужной среды (Production/Preview/Development)
- После добавления переменных обязательно сделайте редеплой

### Старый код все еще работает
- Очистите кеш браузера (Ctrl+Shift+R или Cmd+Shift+R)
- Проверьте, что деплой завершился успешно
- Убедитесь, что вы смотрите на правильный домен

---

## Быстрая команда для редеплоя

Если вы часто делаете редеплой, можно добавить скрипт в `package.json`:

```json
{
  "scripts": {
    "redeploy": "vercel --prod"
  }
}
```

Тогда можно просто запустить:
```bash
npm run redeploy
```

(Требует установки Vercel CLI: `npm i -g vercel`)

